<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO: Optimized Title Tag -->
    <title>AI Image & Chat Generator | GenArt Verse - Create Stunning Art & Converse</title>
    <!-- SEO: Optimized Meta Description for better keyword integration and CTR -->
    <meta name="description" content="Generate stunning AI art and engage in intelligent text conversations for free with GenArt Verse! Transform text prompts into unique digital paintings, illustrations, and visuals instantly. Your ultimate online AI art and chat creator.">

    <!-- Open Graph / Facebook / LinkedIn / Pinterest -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.gensart.space/">
    <meta property="og:title" content="AI Image & Chat Generator | GenArt Verse - Create Stunning Art & Converse">
    <meta property="og:description" content="Generate stunning AI art and engage in intelligent text conversations for free with GenArt Verse! Transform text prompts into unique digital paintings, illustrations, and visuals instantly. Your ultimate online AI art and chat creator.">
    <meta property="og:image" content="https://placehold.co/1200x630/333333/FFFFFF">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.gensart.space/">
    <meta property="twitter:title" content="AI Image & Chat Generator | GenArt Verse - Create Stunning Art & Converse">
    <meta property="twitter:description" content="Generate stunning AI art and engage in intelligent text conversations for free with GenArt Verse! Transform text prompts into unique digital paintings, illustrations, and visuals instantly. Your ultimate online AI art and chat creator.">
    <meta property="twitter:image" content="https://placehold.co/1200x630/333333/FFFFFF">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- Google Fonts: Inter (for general text) & Mersad (for headings/accents) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Mersad:wght@400;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-mode">
    <!-- Ethereal Background Elements -->
    <div class="ethereal-gradient-1"></div>
    <div class="ethereal-gradient-2"></div>
    <div class="ethereal-gradient-3"></div>
    <div class="ethereal-pattern"></div>

    <!-- Main Application Container -->
    <div id="app-container" class="flex flex-col h-screen w-screen overflow-hidden">

        <!-- Sidebar (Left Panel) -->
        <aside id="sidebar" class="fixed top-0 left-0 w-full h-full bg-dark-gray-1 border-r border-gray-800 z-[999] transform -translate-x-full transition-transform duration-300 ease-in-out md:relative md:translate-x-0 md:w-[250px] md:flex-shrink-0 md:border-r md:border-gray-800 md:shadow-lg md:z-auto">
            <div class="p-4 flex items-center justify-between border-b border-gray-800 h-16 md:h-20">
                <h2 class="text-xl font-bold text-light-gray font-mersad">GenArt Verse</h2>
                <button id="close-sidebar-btn" class="md:hidden text-light-gray hover:text-bluish-tint transition-colors text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="p-4 flex-grow overflow-y-auto custom-scrollbar">
                <button id="new-chat-btn" class="w-full bg-dark-gray-2 text-light-gray py-2 px-3 rounded-md font-semibold flex items-center justify-center gap-2 hover:bg-bluish-tint hover:text-white transition-colors duration-200">
                    <i class="fas fa-plus"></i> New Chat
                </button>

                <div id="chat-history-sidebar" class="mt-4 space-y-2">
                    <!-- Chat session titles will be loaded here dynamically -->
                    <div class="text-light-gray/80 p-2 text-sm">Sign in to save and view your chat history.</div>
                </div>
            </div>

            <div class="p-4 border-t border-gray-800 flex flex-col gap-2">
                <button id="settings-btn" class="w-full text-left py-2 px-3 rounded-md text-light-gray/90 hover:bg-dark-gray-2 transition-colors flex items-center gap-2">
                    <i class="fas fa-cog"></i> Settings
                </button>
                <div class="flex items-center justify-between p-2 rounded-md bg-dark-gray-2">
                    <div class="flex items-center gap-2">
                        <button id="user-avatar-btn" class="w-10 h-10 rounded-full bg-dark-gray-1 flex items-center justify-center text-light-gray text-xl border-2 border-dark-gray-2 hover:border-bluish-tint transition-all">
                            <i class="fas fa-user"></i>
                        </button>
                        <div>
                            <p id="user-display-name" class="text-sm font-semibold text-light-gray">Guest</p>
                            <p id="user-display-email" class="text-xs text-light-gray/70">Sign in for full features</p>
                        </div>
                    </div>
                    <button id="sign-in-out-btn" class="text-light-gray/80 text-sm px-3 py-1 rounded-md hover:bg-dark-gray-1 hover:text-bluish-tint transition-colors">
                        <i class="fas fa-sign-in-alt mr-1"></i> Sign In
                    </button>
                </div>
            </div>
        </aside>

        <!-- Sidebar Overlay (for mobile drawer effect) -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-[998] hidden opacity-0 transition-opacity duration-300 ease-in-out"></div>


        <!-- Main Chat Area -->
        <main id="chat-main-area" class="flex flex-col flex-grow w-full h-full md:ml-[250px] md:w-[calc(100%-250px)] relative">
            <!-- Top Navbar for Mobile (Hamburger, Logo, User) -->
            <nav id="main-navbar" class="flex items-center justify-between px-2 py-2 fixed top-0 left-0 w-full bg-dark-gray-1 border-b border-gray-800 z-50 md:hidden">
                <button id="sidebar-toggle-btn" class="text-light-gray hover:text-bluish-tint text-2xl p-2 rounded-full">
                    <i class="fas fa-bars"></i>
                </button>
                <img id="app-logo" src="https://placehold.co/100x40/333333/FFFFFF?text=GenArt" alt="GenArt Logo" class="h-8 md:h-10">
                <button id="mobile-user-avatar-btn" class="w-10 h-10 rounded-full bg-dark-gray-1 flex items-center justify-center text-light-gray text-xl border-2 border-dark-gray-2 hover:border-bluish-tint transition-all">
                    <i class="fas fa-user"></i>
                </button>
                <!-- Auth dropdown for mobile avatar -->
                <div id="mobile-auth-dropdown" class="absolute right-2 top-14 bg-dark-gray-2 border border-gray-800 rounded-md shadow-lg p-2 opacity-0 scale-95 pointer-events-none transition-all duration-200 origin-top-right z-[100]">
                    <ul class="flex flex-col gap-1">
                        <li><p class="text-sm font-semibold text-light-gray px-3 py-1">Guest</p></li>
                        <li><p class="text-xs text-light-gray/70 px-3 py-1">Sign in for full features</p></li>
                        <li><button id="mobile-sign-in-out-btn" class="w-full text-left py-2 px-3 rounded-md text-light-gray/90 hover:bg-dark-gray-1 hover:text-bluish-tint transition-colors">
                            <i class="fas fa-sign-in-alt mr-1"></i> Sign In
                        </button></li>
                    </ul>
                </div>
            </nav>


            <!-- Chat History Display Area -->
            <div id="chat-history" class="flex-grow overflow-y-auto custom-scrollbar pt-[4rem] pb-[7rem] md:pt-[5rem] md:pb-[8rem] px-4">
                <!-- Chat messages will be appended here -->
                <!-- Initial AI Welcome Message -->
                <div class="chat-bubble ai">
                    <p>Hello! I'm GenArt Verse, your AI assistant. I can help you with text conversations and generate images. Just tell me what you need!</p>
                </div>
            </div>

            <!-- AI Typing Indicator -->
            <div id="typing-indicator" class="flex items-center justify-center py-2 px-4 hidden absolute bottom-[calc(7rem + 1rem)] left-1/2 -translate-x-1/2 bg-dark-gray-2 rounded-full shadow-lg z-20">
                <span class="text-light-gray text-sm mr-2">GenArt Verse is typing</span>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>

            <!-- Prompt Suggestions Carousel -->
            <div id="prompt-suggestions-container" class="flex overflow-x-auto custom-scrollbar py-2 px-4 gap-3 absolute bottom-[calc(7rem + 2rem)] left-0 w-full md:bottom-[calc(8rem + 2rem)] md:max-w-3xl md:mx-auto">
                <!-- Suggestions will be loaded here dynamically -->
            </div>

            <!-- Message Input Area -->
            <div id="message-input-area" class="fixed bottom-0 left-0 w-full bg-dark-gray-1 border-t border-gray-800 p-3 flex flex-col items-center gap-2 md:flex-row md:max-w-3xl md:mx-auto md:p-4 md:rounded-t-xl md:shadow-lg">
                <div class="relative w-full flex items-center gap-2">
                    <!-- Modes Toggle Button -->
                    <button id="modes-toggle-btn" class="flex items-center justify-center p-2 rounded-md bg-dark-gray-2 text-light-gray text-sm font-medium hover:bg-dark-gray-1 hover:text-bluish-tint transition-colors duration-200">
                        <i class="fas fa-robot mr-1"></i> Mode <i class="fas fa-chevron-down ml-1 transition-transform duration-200"></i>
                    </button>
                    <!-- Modes Dropdown Panel -->
                    <div id="modes-dropdown-panel" class="absolute bottom-full left-0 mb-2 bg-dark-gray-1 border border-gray-800 rounded-lg shadow-xl p-2 opacity-0 scale-95 pointer-events-none origin-bottom-left z-40">
                        <button id="mode-verse-btn" class="dropdown-mode-item w-full text-left py-2 px-3 rounded-md text-light-gray/90 hover:bg-dark-gray-2 transition-colors active-mode-item">
                            <i class="fas fa-comment-dots mr-2"></i> Verse (Chat)
                        </button>
                        <button id="mode-image-btn" class="dropdown-mode-item w-full text-left py-2 px-3 rounded-md text-light-gray/90 hover:bg-dark-gray-2 transition-colors">
                            <i class="fas fa-image mr-2"></i> Image Verse
                        </button>
                        <button id="mode-code-btn" class="dropdown-mode-item w-full text-left py-2 px-3 rounded-md text-light-gray/90 hover:bg-dark-gray-2 transition-colors">
                            <i class="fas fa-code mr-2"></i> Code Verse
                        </button>
                    </div>

                    <textarea id="unified-input" rows="1" placeholder="Start your conversation..." class="flex-grow p-3 rounded-full bg-dark-gray-1 border border-gray-700 text-light-gray focus:outline-none focus:border-bluish-tint focus:ring-1 focus:ring-bluish-tint resize-none overflow-hidden min-h-[44px] max-h-[120px]"></textarea>
                </div>

                <div class="flex gap-2 w-full md:w-auto">
                    <button id="voice-input-btn" class="p-3 rounded-full bg-dark-gray-2 text-light-gray text-xl flex-shrink-0 hover:bg-dark-gray-1 hover:text-bluish-tint transition-colors duration-200">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button id="send-message-btn" class="p-3 rounded-full bg-bluish-tint text-white text-xl flex-shrink-0 opacity-50 pointer-events-none transition-all duration-200">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                    <button id="stop-response-btn" class="p-3 rounded-full bg-red-500 text-white text-base flex items-center justify-center gap-1 opacity-0 pointer-events-none transition-all duration-200">
                        <i class="fas fa-stop-circle"></i> Stop
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Sign-in Modal -->
    <div id="signin-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[1000] hidden opacity-0 transition-opacity duration-300">
        <div class="bg-dark-gray-2 p-8 rounded-lg shadow-xl text-center max-w-md w-11/12 transform scale-95 opacity-0 transition-all duration-300">
            <h3 class="text-2xl font-bold mb-4 text-light-gray">Sign In to GenArt Verse</h3>
            <p class="text-light-gray/80 mb-6">Unlock full chat history, unlimited generations, and personalized experiences.</p>
            <button id="google-signin-btn" class="w-full py-3 px-6 rounded-lg text-lg shadow-lg bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 transition-all duration-300 ease-in-out transform hover:scale-105">
                <i class="fab fa-google mr-2"></i> Sign In With Google
            </button>
            <button id="close-signin-modal-btn" class="mt-4 text-light-gray/60 hover:text-light-gray transition-colors duration-200">No Thanks</button>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-[1000] space-y-2">
        <!-- Toasts will be appended here -->
    </div>

    <!-- Persistent Error/Debug Message -->
    <div id="persistent-debug-message" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-900/90 text-white p-6 rounded-lg shadow-2xl z-[99] text-center max-w-md hidden border border-red-700">
        <h3 class="text-xl font-bold mb-3">App Initialization Issue</h3>
        <p class="text-sm">It seems there was a problem loading all services. Some features may not work.</p>
        <p class="text-sm mt-2 font-semibold">Please open your browser's **Developer Console (F12 on desktop)** and copy all messages to the AI for debugging.</p>
        <button id="close-debug-message" class="mt-4 px-4 py-2 bg-red-700 hover:bg-red-600 rounded-md text-sm transition-colors">Dismiss</button>
    </div>

    <!-- GSAP and Marked.js CDNs (before your script.js) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/TextPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.0/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="script.js" type="module"></script>
</body>
</html>
